<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vport.system.mapper.CourseMapper">
	<!-- SELECT * FROM trainer t, training_class c 
	WHERE t.`class_id` = c.`id` AND t.`trainer_id` = 1; -->
	<resultMap type="TrainingClassInfo" id="trainerAndClass">
		<result column="id" property="classId"/>
		<result column="class_name" property="className"/>
		<result column="place" property="place"/>
		<result column="period" property="period"/>
		<result column="hour_to" property="hourTo"/>
		<result column="rank" property="rank"/>
		<result column="description" property="description"/>
		<result column="starttime" property="starttime"/>
		<result column="createtime" property="createtime"/>
		<result column="is_open" property="isOpen"/>
		<result column="is_finish" property="isFinish"/>
		<result column="is_chief" property="isChief"/>
	</resultMap>
	<select id="findClassByTrainer" parameterType="Long" resultMap="trainerAndClass">
		SELECT * FROM trainer t, training_class c 
		WHERE t.class_id = c.id 
		AND t.trainer = #{value}
	</select>
	<!-- <resultMap type="User" id="students">
		<result column="id" property="id"/>
		<result column="name" property="name"/>
	</resultMap> -->
	<select id="findStudentsByClass" parameterType="Long" resultType="User">
		SELECT * FROM training_class c,player p,USER u 
		WHERE  c.id = p.class_id 
		AND p.player = u.id 
		AND c.id = #{value}
	</select>
	
	<resultMap type="TrainingPlan" id="trainingPlan">
		<id column="id" property="id"/>
		<result column="training_time" property="trainingTime"/>
		<result column="created" property="created"/>
		<result column="updated" property="updated"/>
		<result column="chief_trainer_id" property="chiefTrainer"/>
		<result column="class_id" property="classId"/>
		<result column="assistant_trainer_id" property="assistantTrainer"/>
	</resultMap>
	
	<select id="findPlanByClass" parameterType="Long" resultMap="trainingPlan">
		SELECT * FROM training_schema WHERE class_id = #{value};
	</select>
	
	<select id="findClassInfoByClassId" parameterType="Long" resultMap="trainerAndClass">
		select * from training_class c
		where id = #{value}
	</select>
	
	
</mapper>